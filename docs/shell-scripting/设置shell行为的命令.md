# 设置`shell`行为的命令

## `set -e`命令

在 shell 脚本中，`set -e` 是一个用于设置 shell 行为的命令。具体来说，`set -e` 会使得脚本在遇到任何非零退出状态的命令时立即退出。

这里是它的主要功能和用法：

1. **即时退出**：如果脚本中的任何命令（非内建命令或使用了某些控制结构的命令，如 `if`、`for`、`while` 等）返回非零退出状态，则整个脚本会立即终止。
2. **错误处理**：这有助于脚本在遇到错误时更快速地失败，而不是继续执行可能基于错误状态的后续命令。

例如：

```sh
#!/bin/bash  
  
set -e  
  
echo "This will be printed."  
false  # 这将返回一个非零退出状态  
echo "This will not be printed."  # 因为前面的 false 命令导致脚本退出
```

在上述脚本中，`echo "This will not be printed."` 将不会被执行，因为 `false` 命令导致脚本在 `set -e` 的影响下立即退出。



## `set -x`命令

`set -x` 是一个在 Unix 和类 Unix 系统（比如 Linux 和 macOS）的 shell 脚本或命令行界面中使用的命令。这个命令用于在执行每条命令之前，先将其打印到标准错误输出（stderr）。这通常用于调试脚本，以便用户可以看到脚本正在执行哪些命令。

简单来说，`set -x` 开启了一个模式，使得 shell 在执行每条命令之前都会先打印出来，这对于理解脚本的执行流程或者调试问题非常有用。

如果你想要关闭这个模式，可以使用 `set +x` 命令。